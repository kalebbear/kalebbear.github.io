{"version":3,"sources":["webpack:///./src/views/admin/Products.vue?8923","webpack:///./src/views/admin/Products.vue","webpack:///src/views/admin/Products.vue","webpack:///./src/views/admin/Products.vue?5ac8","webpack:///./src/views/admin/Products.vue?9671"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","model","value","searchQuery","callback","$$v","expression","on","searchProducts","showAddProductDialog","staticStyle","products","scopedSlots","_u","key","fn","scope","row","coverImage","$event","showImageDialog","viewProduct","confirmDeleteProduct","currentPage","pageSize","totalProducts","handlePageChange","addProductDialogVisible","ref","newProduct","rules","name","$set","uploadUrl","beforeUploadCover","handleCoverUploadSuccess","beforeUploadDetail","handleDetailUploadSuccess","detailImageList","handleDetailRemove","description","salePrice","costPrice","stockQuantity","brand","_l","brands","id","categoryId","categories","category","slot","submitForm","viewProductDialogVisible","currentProduct","detailImages","image","index","deleteProductDialogVisible","deleteProduct","imageDialogVisible","currentImage","staticRenderFns","data","required","message","trigger","productToDelete","mounted","fetchProducts","fetchCategories","fetchBrands","methods","response","getProductsPaged","code","total","console","log","$message","error","getProductCategories","then","catch","getBrands","searchProductsByName","length","page","addProduct","success","baseUrl","imageUrl","push","url","file","indexOf","splice","formData","FormData","append","window","localStorage","getItem","uploadFile","get","status","formName","$refs","validate","valid","product","deleteProductById","component"],"mappings":"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","file":"js/chunk-dc243f1a.57112b31.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=9f6f8c48&prod&lang=less&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"products-container\"},[_c('el-card',{staticClass:\"card\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"【商品管理】\")]),_c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"search-bar\"},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请输入商品名称\"},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('el-button',{staticClass:\"search-button\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.searchProducts}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"search-button\",attrs:{\"type\":\"success\"},on:{\"click\":_vm.showAddProductDialog}},[_vm._v(\"新增商品\")])],1),_c('el-table',{staticClass:\"product-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.products,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"商品名称\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"商品图片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"80px\",\"height\":\"80px\"},attrs:{\"src\":scope.row.coverImage,\"fit\":\"cover\",\"preview-src-list\":[scope.row.coverImage]},on:{\"click\":function($event){return _vm.showImageDialog(scope.row.coverImage)}}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"salePrice\",\"label\":\"售价\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"stockQuantity\",\"label\":\"库存\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.viewProduct(scope.row)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.confirmDeleteProduct(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{staticClass:\"pagination\",attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.totalProducts},on:{\"current-change\":_vm.handlePageChange}})],1)]),_c('el-dialog',{attrs:{\"title\":\"新增商品\",\"visible\":_vm.addProductDialogVisible},on:{\"update:visible\":function($event){_vm.addProductDialogVisible=$event}}},[_c('el-form',{ref:\"newProductForm\",attrs:{\"model\":_vm.newProduct,\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.newProduct.name),callback:function ($$v) {_vm.$set(_vm.newProduct, \"name\", $$v)},expression:\"newProduct.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品封面图片\",\"prop\":\"coverImage\"}},[_c('el-input',{model:{value:(_vm.newProduct.coverImage),callback:function ($$v) {_vm.$set(_vm.newProduct, \"coverImage\", $$v)},expression:\"newProduct.coverImage\"}}),_c('el-upload',{ref:\"uploadCover\",staticClass:\"upload-demo\",attrs:{\"action\":_vm.uploadUrl,\"before-upload\":_vm.beforeUploadCover,\"on-success\":_vm.handleCoverUploadSuccess,\"show-file-list\":false}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传图片\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"商品详情图片\",\"prop\":\"detailImages\"}},[_c('el-upload',{ref:\"uploadDetail\",staticClass:\"upload-demo\",attrs:{\"action\":_vm.uploadUrl,\"before-upload\":_vm.beforeUploadDetail,\"on-success\":_vm.handleDetailUploadSuccess,\"list-type\":\"picture-card\",\"file-list\":_vm.detailImageList,\"on-remove\":_vm.handleDetailRemove}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传图片\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"商品描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.newProduct.description),callback:function ($$v) {_vm.$set(_vm.newProduct, \"description\", $$v)},expression:\"newProduct.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"销售价格\",\"prop\":\"salePrice\"}},[_c('el-input',{model:{value:(_vm.newProduct.salePrice),callback:function ($$v) {_vm.$set(_vm.newProduct, \"salePrice\", $$v)},expression:\"newProduct.salePrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"成本价格\",\"prop\":\"costPrice\"}},[_c('el-input',{model:{value:(_vm.newProduct.costPrice),callback:function ($$v) {_vm.$set(_vm.newProduct, \"costPrice\", $$v)},expression:\"newProduct.costPrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"库存数量\",\"prop\":\"stockQuantity\"}},[_c('el-input',{model:{value:(_vm.newProduct.stockQuantity),callback:function ($$v) {_vm.$set(_vm.newProduct, \"stockQuantity\", $$v)},expression:\"newProduct.stockQuantity\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品品牌\",\"prop\":\"brand\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择品牌\"},model:{value:(_vm.newProduct.brand),callback:function ($$v) {_vm.$set(_vm.newProduct, \"brand\", $$v)},expression:\"newProduct.brand\"}},_vm._l((_vm.brands),function(brand){return _c('el-option',{key:brand.id,attrs:{\"label\":brand.name,\"value\":brand.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"商品分类ID\",\"prop\":\"categoryId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.newProduct.categoryId),callback:function ($$v) {_vm.$set(_vm.newProduct, \"categoryId\", $$v)},expression:\"newProduct.categoryId\"}},_vm._l((_vm.categories),function(category){return _c('el-option',{key:category.id,attrs:{\"label\":category.name,\"value\":category.id}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addProductDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('newProductForm')}}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"查看商品\",\"visible\":_vm.viewProductDialogVisible},on:{\"update:visible\":function($event){_vm.viewProductDialogVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.currentProduct,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.currentProduct.name),callback:function ($$v) {_vm.$set(_vm.currentProduct, \"name\", $$v)},expression:\"currentProduct.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品封面图片地址\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.currentProduct.coverImage),callback:function ($$v) {_vm.$set(_vm.currentProduct, \"coverImage\", $$v)},expression:\"currentProduct.coverImage\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品封面图片\"}},[_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":_vm.currentProduct.coverImage,\"alt\":\"商品封面图片\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品详情图片地址\"}},_vm._l((_vm.currentProduct.detailImages),function(image,index){return _c('div',{key:index,staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-input',{attrs:{\"value\":image,\"readonly\":\"\"}})],1)}),0),_c('el-form-item',{attrs:{\"label\":\"商品详情图片\"}},_vm._l((_vm.currentProduct.detailImages),function(image,index){return _c('div',{key:index,staticStyle:{\"display\":\"inline-block\",\"margin-right\":\"10px\"}},[_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":image,\"alt\":\"商品详情图片\"}})],1)}),0),_c('el-form-item',{attrs:{\"label\":\"商品描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"disabled\":\"\"},model:{value:(_vm.currentProduct.description),callback:function ($$v) {_vm.$set(_vm.currentProduct, \"description\", $$v)},expression:\"currentProduct.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"销售价格\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.currentProduct.salePrice),callback:function ($$v) {_vm.$set(_vm.currentProduct, \"salePrice\", $$v)},expression:\"currentProduct.salePrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"成本价格\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.currentProduct.costPrice),callback:function ($$v) {_vm.$set(_vm.currentProduct, \"costPrice\", $$v)},expression:\"currentProduct.costPrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"库存数量\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.currentProduct.stockQuantity),callback:function ($$v) {_vm.$set(_vm.currentProduct, \"stockQuantity\", $$v)},expression:\"currentProduct.stockQuantity\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品品牌\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.currentProduct.brand),callback:function ($$v) {_vm.$set(_vm.currentProduct, \"brand\", $$v)},expression:\"currentProduct.brand\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类ID\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.currentProduct.categoryId),callback:function ($$v) {_vm.$set(_vm.currentProduct, \"categoryId\", $$v)},expression:\"currentProduct.categoryId\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.viewProductDialogVisible = false}}},[_vm._v(\"关闭\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"确认删除\",\"visible\":_vm.deleteProductDialogVisible},on:{\"update:visible\":function($event){_vm.deleteProductDialogVisible=$event}}},[_c('span',[_vm._v(\"你确定要删除这个商品吗？\")]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.deleteProductDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.deleteProduct}},[_vm._v(\"确定\")])],1)]),_c('el-dialog',{attrs:{\"visible\":_vm.imageDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.imageDialogVisible=$event}}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.currentImage}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n <div class=\"products-container\">\n    <el-card class=\"card\">\n      <div class=\"title\">【商品管理】</div>\n      <div class=\"center\">\n        <!-- 搜索栏 -->\n        <div class=\"search-bar\">\n          <el-input v-model=\"searchQuery\" placeholder=\"请输入商品名称\" class=\"search-input\"></el-input>\n          <el-button type=\"primary\" @click=\"searchProducts\" class=\"search-button\">搜索</el-button>\n          <el-button type=\"success\" @click=\"showAddProductDialog\" class=\"search-button\">新增商品</el-button>\n        </div>\n        \n        <!-- 商品列表 -->\n        <el-table :data=\"products\" style=\"width: 100%\" stripe class=\"product-table\">\n          <el-table-column prop=\"name\" label=\"商品名称\" sortable></el-table-column>\n          <el-table-column label=\"商品图片\">\n            <template slot-scope=\"scope\">\n              <el-image\n                style=\"width: 80px; height: 80px\"\n                :src=\"scope.row.coverImage\"\n                fit=\"cover\"\n                @click=\"showImageDialog(scope.row.coverImage)\"\n                :preview-src-list=\"[scope.row.coverImage]\"\n              ></el-image>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"salePrice\" label=\"售价\" sortable></el-table-column>\n          <el-table-column prop=\"stockQuantity\" label=\"库存\" sortable></el-table-column>\n          <el-table-column label=\"操作\" width=\"180\">\n            <template slot-scope=\"scope\">\n              <el-button size=\"mini\" @click=\"viewProduct(scope.row)\">查看</el-button>\n              <el-button size=\"mini\" type=\"danger\" @click=\"confirmDeleteProduct(scope.row)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        \n        <!-- 分页 -->\n        <el-pagination\n          @current-change=\"handlePageChange\"\n          :current-page=\"currentPage\"\n          :page-size=\"pageSize\"\n          layout=\"total, prev, pager, next\"\n          :total=\"totalProducts\"\n          class=\"pagination\"\n        >\n        </el-pagination>\n      </div>\n    </el-card>\n    <!-- 新增商品弹窗 -->\n    <el-dialog title=\"新增商品\" :visible.sync=\"addProductDialogVisible\">\n      <el-form :model=\"newProduct\" :rules=\"rules\" ref=\"newProductForm\" label-position=\"top\">\n        <el-form-item label=\"商品名称\" prop=\"name\">\n          <el-input v-model=\"newProduct.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品封面图片\" prop=\"coverImage\">\n          <el-input v-model=\"newProduct.coverImage\"></el-input>\n          <el-upload ref=\"uploadCover\" class=\"upload-demo\" :action=\"uploadUrl\" :before-upload=\"beforeUploadCover\"\n            :on-success=\"handleCoverUploadSuccess\" :show-file-list=\"false\">\n            <el-button size=\"small\" type=\"primary\">上传图片</el-button>\n          </el-upload>\n        </el-form-item>\n        <el-form-item label=\"商品详情图片\" prop=\"detailImages\">\n          <el-upload ref=\"uploadDetail\" class=\"upload-demo\" :action=\"uploadUrl\" :before-upload=\"beforeUploadDetail\"\n            :on-success=\"handleDetailUploadSuccess\" list-type=\"picture-card\" :file-list=\"detailImageList\"\n            :on-remove=\"handleDetailRemove\">\n            <el-button size=\"small\" type=\"primary\">上传图片</el-button>\n          </el-upload>\n        </el-form-item>\n        <el-form-item label=\"商品描述\" prop=\"description\">\n          <el-input type=\"textarea\" v-model=\"newProduct.description\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"销售价格\" prop=\"salePrice\">\n          <el-input v-model=\"newProduct.salePrice\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"成本价格\" prop=\"costPrice\">\n          <el-input v-model=\"newProduct.costPrice\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"库存数量\" prop=\"stockQuantity\">\n          <el-input v-model=\"newProduct.stockQuantity\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品品牌\" prop=\"brand\">\n          <el-select v-model=\"newProduct.brand\" placeholder=\"请选择品牌\">\n            <el-option v-for=\"brand in brands\" :key=\"brand.id\" :label=\"brand.name\" :value=\"brand.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"商品分类ID\" prop=\"categoryId\">\n          <el-select v-model=\"newProduct.categoryId\" placeholder=\"请选择分类\">\n            <el-option v-for=\"category in categories\" :key=\"category.id\" :label=\"category.name\" :value=\"category.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addProductDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitForm('newProductForm')\">确定</el-button>\n      </div>\n    </el-dialog>\n    <!-- 查看商品弹窗 -->\n    <el-dialog title=\"查看商品\" :visible.sync=\"viewProductDialogVisible\">\n      <el-form :model=\"currentProduct\" label-position=\"top\">\n        <el-form-item label=\"商品名称\">\n          <el-input v-model=\"currentProduct.name\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品封面图片地址\">\n          <el-input v-model=\"currentProduct.coverImage\" readonly></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品封面图片\">\n          <el-image :src=\"currentProduct.coverImage\" alt=\"商品封面图片\" style=\"width: 100px; height: 100px;\" />\n        </el-form-item>\n        <el-form-item label=\"商品详情图片地址\">\n          <div v-for=\"(image, index) in currentProduct.detailImages\" :key=\"index\" style=\"margin-bottom: 10px;\">\n            <el-input :value=\"image\" readonly></el-input>\n          </div>\n        </el-form-item>\n        <el-form-item label=\"商品详情图片\">\n          <div v-for=\"(image, index) in currentProduct.detailImages\" :key=\"index\"\n            style=\"display: inline-block; margin-right: 10px;\">\n            <el-image :src=\"image\" alt=\"商品详情图片\" style=\"width: 100px; height: 100px;\" />\n          </div>\n        </el-form-item>\n        <el-form-item label=\"商品描述\">\n          <el-input type=\"textarea\" v-model=\"currentProduct.description\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"销售价格\">\n          <el-input v-model=\"currentProduct.salePrice\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"成本价格\">\n          <el-input v-model=\"currentProduct.costPrice\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"库存数量\">\n          <el-input v-model=\"currentProduct.stockQuantity\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品品牌\">\n          <el-input v-model=\"currentProduct.brand\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品分类ID\">\n          <el-input v-model=\"currentProduct.categoryId\" disabled></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"viewProductDialogVisible = false\">关闭</el-button>\n      </div>\n    </el-dialog>\n    <!-- 删除确认弹窗 -->\n    <el-dialog title=\"确认删除\" :visible.sync=\"deleteProductDialogVisible\">\n      <span>你确定要删除这个商品吗？</span>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"deleteProductDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"deleteProduct\">确定</el-button>\n      </div>\n    </el-dialog>\n     <!-- 图片查看弹窗 -->\n     <el-dialog :visible.sync=\"imageDialogVisible\" width=\"30%\">\n      <img :src=\"currentImage\" style=\"width: 100%;\" />\n    </el-dialog>\n  </div>\n</template>\n  \n<script>\nimport { deleteProductById, getProductById, getProductCarousel, getProductCategories, getBrands, addProduct, uploadFile, getProductsPaged, searchProductsByName } from '@/api/index.js';\nimport { baseUrl } from '@/config/index';\n\nexport default {\n  name: 'Products',\n  data() {\n    return {\n      searchQuery: '',// 搜索框的值\n      products: [],// 商品列表\n      currentPage: 1,// 当前页\n      pageSize: 10,// 每页显示的数量\n      totalProducts: 0,// 总商品数\n      addProductDialogVisible: false,// 新增商品弹窗是否显示\n      newProduct: { // 新增商品的数据\n        name: '',\n        coverImage: '',\n        detailImages: [],\n        description: '',\n        salePrice: '',\n        costPrice: '',\n        stockQuantity: '',\n        brand: null,\n        categoryId: null,\n      },\n      categories: [],// 商品分类列表\n      brands: [],// 商品品牌列表\n      uploadUrl: '/api/v1/fileUpload/upload', // 修改为相对路径\n      detailImageList: [],// 商品详情图片列表\n      rules: {  // 表单验证规则\n        name: [{ required: true, message: '请输入商品名称', trigger: 'blur' }],\n        coverImage: [{ required: true, message: '请上传商品封面图片', trigger: 'change' }],\n        detailImages: [{ required: true, message: '请上传商品详情图片', trigger: 'change' }],\n        description: [{ required: true, message: '请输入商品描述', trigger: 'blur' }],\n        salePrice: [{ required: true, message: '请输入销售价格', trigger: 'blur' }],\n        costPrice: [{ required: true, message: '请输入成本价格', trigger: 'blur' }],\n        stockQuantity: [{ required: true, message: '请输入库存数量', trigger: 'blur' }],\n        brand: [{ required: true, message: '请选择商品品牌', trigger: 'change' }],\n        categoryId: [{ required: true, message: '请选择商品分类', trigger: 'change' }],\n      },\n      viewProductDialogVisible: false,// 查看商品弹窗是否显示\n      deleteProductDialogVisible: false, // 删除商品弹窗是否显示\n      currentProduct: {},// 当前商品\n      productToDelete: null,// 要删除的商品\n      imageDialogVisible: false,// 图片查看弹窗是否显示\n       currentImage: ''// 用于存储当前要查看的图片\n    };\n  },\n  mounted() {\n    this.fetchProducts();\n    this.fetchCategories();\n    this.fetchBrands();\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const response = await getProductsPaged(this.currentPage - 1, this.pageSize, 'id');\n        if (response.code === 0) {\n          this.products = response.data.products;\n          this.totalProducts = response.data.total;\n          console.log('商品列表:', response.data.products);\n        } else {\n          this.$message.error('获取商品列表失败: ' + response.message);\n          console.log('商品列表失败:', response.message);\n        }\n      } catch (error) {\n        this.$message.error('获取商品列表失败: ' + error.message);\n      }\n    },\n    fetchCategories() {\n      getProductCategories().then(response => {\n        if (response.code === 0) {\n          this.categories = response.data;\n        } else {\n          this.$message.error('获取商品分类失败: ' + response.message);\n        }\n      }).catch(error => {\n        console.error('获取商品分类失败:', error);\n      });\n    },\n    fetchBrands() {\n      getBrands().then(response => {\n        if (response.code === 0) {\n          this.brands = response.data;\n        } else {\n          this.$message.error('获取品牌数据失败: ' + response.message);\n        }\n      }).catch(error => {\n        console.error('获取品牌数据失败:', error);\n      });\n    },\n    async searchProducts() {\n      try {\n        const response = await searchProductsByName(this.searchQuery);\n        if (response.code === 0) {\n          this.products = response.data;\n          this.totalProducts = response.data.length;\n          console.log('搜索结果:', response.data);\n        } else {\n          this.$message.error('搜索失败: ' + response.message);\n          console.log('搜索失败:', response.message);\n        }\n      } catch (error) {\n        this.$message.error('搜索失败: ' + error.message);\n      }\n    },\n    handlePageChange(page) {\n      this.currentPage = page;\n      this.fetchProducts();\n    },\n    showAddProductDialog() {\n      this.addProductDialogVisible = true;\n    },\n    async addProduct() {\n      try {\n        const response = await addProduct(this.newProduct);\n        if (response.code === 0) {\n          this.$message.success(response.message);\n          this.addProductDialogVisible = false;\n          this.fetchProducts(); // 重新获取商品列表\n        } else {\n          this.$message.error('新增失败: ' + response.message);\n        }\n      } catch (error) {\n        this.$message.error('新增失败: ' + error.message);\n      }\n    },\n    handleCoverUploadSuccess(response) {\n      if (response.code === 0) {\n        this.newProduct.coverImage = `${baseUrl}/v1/getLatestImage?fileName=${response.data}`;\n        this.$message.success('图片上传成功');\n      } else {\n        if (response.code === 401) {\n          this.$message.error('登录超时，请重新登录');\n        } else {\n          this.$message.error('图片上传失败: ' + response.message);\n        }\n      }\n    },\n    handleDetailUploadSuccess(response) {\n      if (response.code === 0) {\n        const imageUrl = `${baseUrl}/v1/getLatestImage?fileName=${response.data}`;\n        this.newProduct.detailImages.push(imageUrl);\n        this.detailImageList.push({ name: response.data, url: imageUrl });\n        this.$message.success('图片上传成功');\n        console.log('商品详情图片数组:', this.newProduct.detailImages); // 调试输出\n      } else {\n        if (response.code === 401) {\n          this.$message.error('登录超时，请重新登录');\n        } else {\n          this.$message.error('图片上传失败: ' + response.message);\n        }\n      }\n    },\n    handleDetailRemove(file) {\n      const index = this.newProduct.detailImages.indexOf(file.url);\n      if (index !== -1) {\n        this.newProduct.detailImages.splice(index, 1);\n        this.detailImageList.splice(index, 1);\n      }\n    },\n    beforeUploadCover(file) {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('userId', window.localStorage.getItem('SET_NAME'));// 获取storage中SET_NAME的值\n      formData.append('type', 'cover');\n      this.uploadFile(formData);\n      return false; // 阻止 el-upload 的默认上传行为\n    },\n    beforeUploadDetail(file) {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('userId', window.localStorage.getItem('SET_NAME'));// 获取storage中SET_NAME的值\n      formData.append('type', 'detail');\n      this.uploadFile(formData);\n      return false; // 阻止 el-upload 的默认上传行为\n    },\n    async uploadFile(formData) {\n      try {\n        const response = await uploadFile(formData);\n        if (formData.get('type') === 'cover') {\n          this.handleCoverUploadSuccess(response);\n        } else {\n          this.handleDetailUploadSuccess(response);\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          this.$message.error('登录超时，请重新登录');\n        } else {\n          this.$message.error('图片上传失败: ' + error.message);\n        }\n      }\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.addProduct();\n        } else {\n          this.$message.error('请填写完整的商品信息');\n          return false;\n        }\n      });\n    },\n    viewProduct(product) {\n      // 实现查看商品的逻辑\n      this.currentProduct = { ...product, detailImages: product.detailImages || [] };\n      this.viewProductDialogVisible = true;\n      console.log('查看商品:', product);\n    },\n    // 确认删除商品\n    confirmDeleteProduct(product) {\n      this.productToDelete = product;\n      this.deleteProductDialogVisible = true;\n    },\n    async deleteProduct() {\n      if (!this.productToDelete) {\n        this.$message.error('未选择要删除的商品');\n        return;\n      }\n      try {\n        // 实现删除商品的逻辑\n        const response = await deleteProductById(this.productToDelete.id);\n        if (response.code === 0) {\n          this.$message.success('删除成功');\n          this.fetchProducts(); // 重新获取商品列表\n          this.deleteProductDialogVisible = false;\n          this.productToDelete = null; // 重置 productToDelete\n        } else {\n          this.$message.error('删除失败: ' + response.message);\n        }\n      } catch (error) {\n        this.$message.error('删除失败: ' + error.message);\n      }\n    },\n    showImageDialog(imageUrl) {\n      this.currentImage = imageUrl;\n      this.imageDialogVisible = true;\n    }\n  }\n};\n</script>\n  \n<style lang=\"less\" scoped>\n.products-container {\n  padding: 20px;\n}\n\n.card {\n  min-height: 500px;\n}\n\n.title {\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 20px;\n}\n\n.search-bar {\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 20px;\n}\n\n.search-input {\n  flex: 1;\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n\n.search-button {\n  margin-right: 10px;\n  margin-bottom: 10px;\n}\n\n.product-table {\n  margin-bottom: 20px;\n}\n\n.pagination {\n  text-align: center;\n}\n\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=9f6f8c48&scoped=true\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&id=9f6f8c48&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f6f8c48\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}